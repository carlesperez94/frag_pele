<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PELE: Dynamic Changes in simulation parameters &mdash; PELE 1.5.rev12489 documentation</title>
    
    <link rel="stylesheet" href="../_static/naturemodified.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5.rev12489',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PELE 1.5.rev12489 documentation" href="../index.html" />
    <link rel="up" title="PELESimulation command" href="../PELE/PELESimulation_index.html" />
    <link rel="next" title="Exit Conditions" href="../ExitConditions/ExitConditions.html" />
    <link rel="prev" title="Changeable Parameters" href="ParametersThatCanChange.html" /> 
    <script type="text/javascript" >
    MathJax.Hub.Config({
        TeX: { 
	  Macros: {
	    AA: '{\\unicode{xC5}}'
	  }
	}
    });
    </script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../ExitConditions/ExitConditions.html" title="Exit Conditions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ParametersThatCanChange.html" title="Changeable Parameters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PELE 1.5.rev12489 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../referenceManual.html" >Reference Manual</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../PELE/PELESimulation_index.html" accesskey="U">PELESimulation command</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pele-dynamic-changes-in-simulation-parameters">
<span id="sec-peledynamicchangesinsimulationparameters"></span><h1>PELE: Dynamic Changes in simulation parameters<a class="headerlink" href="#pele-dynamic-changes-in-simulation-parameters" title="Permalink to this headline">Â¶</a></h1>
<p>Some PELE simulation parameters can be changed on the fly based on the
evaluation of logical conditions that use values measured by PELE
sensors (metrics and state trackers, see
<a class="reference internal" href="../Sensors/Sensors.html#sec-sensors"><span>Sensors</span></a>).</p>
<p>This document explains how to write those logical conditions in a
configuration file. To see which simulation parameters can be changed,
see <a class="reference internal" href="ParametersThatCanChange.html#sec-parametersthatcanchange"><span>ParametersThatCanChange</span></a>.</p>
<p>The key of the block to dynamically change simulation parameters is:
&#8220;parametersChanges&#8221;.</p>
<p>This block is optional, but if you use it, it must be included inside a
PeleTask block.</p>
<p>Let&#8217;s see an example:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;parametersChanges&quot;:
[
    {
        &quot;ifAnyIsTrue&quot;: [
            &quot;rmsd &gt; 1.0 and rmsd &lt; 1.2&quot;,
            &quot;rmsd_CA &gt; 1&quot;
        ],
        &quot;doThesechanges&quot;: {
            &quot;Minimizer::parameters&quot;: {
                &quot;alphaUpdated&quot;: false,
                &quot;sgbUpdated&quot;: false
            }
        }
    },
    {
        &quot;ifAnyIsTrue&quot;: [
            &quot;rmsd &lt; 1.0 or rmsd &lt;= 0.5&quot;,
            &quot;not (rmsd_CA &lt; 1 or currentEnergy &gt; 3.0)&quot;
        ],
        &quot;doThesechanges&quot;: {
            &quot;LigandPerturbation::parameters&quot;: {
                &quot;rotationScalingFactor&quot;: 0.4,
                &quot;translationRange&quot;: 3.5
            },
            &quot;ANM::parameters&quot;: {
                &quot;thermalScaling&quot;: false,
                &quot;displacementFactor&quot;: 1.5
            }
        },
        &quot;otherwise&quot;: {
            &quot;Minimizer::parameters&quot;: {
                &quot;alphaUpdated&quot;: true,
                &quot;sgbUpdated&quot;: true
            }
        }
    }
]
</pre></div>
</div>
<p>In this case &#8220;parametersChanges&#8221; corresponds to a list (square brackets
define lists in JSON) of two parameter changes (each defined between
curly brackets).</p>
<p>The first parameters change block of the list in this example is:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;ifAnyIsTrue&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;rmsd &gt; 1.0 and rmsd &lt; 1.2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rmsd_CA &gt; 1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;doThesechanges&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;Minimizer::parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;alphaUpdated&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;sgbUpdated&quot;</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the second one is:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;ifAnyIsTrue&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;rmsd &lt; 1.0 or rmsd &lt;= 0.5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;not (rmsd_CA &lt; 1 or currentEnergy &gt; 3.0)&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;doThesechanges&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;LigandPerturbation::parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;rotationScalingFactor&quot;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
            <span class="nt">&quot;translationRange&quot;</span><span class="p">:</span> <span class="mf">3.5</span>
        <span class="p">},</span>
        <span class="nt">&quot;ANM::parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;thermalScaling&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;displacementFactor&quot;</span><span class="p">:</span> <span class="mf">1.5</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;otherwise&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;Minimizer::parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;alphaUpdated&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;sgbUpdated&quot;</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Each parameters change block is comprised of three blocks:</p>
<ul class="simple">
<li>A list of conditions for the parameters changes to happen.</li>
<li>The changes that must be done if any of the conditions evaluates to
true.</li>
<li>The changes that must be done otherwise, i.e., if all the conditions
evaluate to false.</li>
</ul>
<p>Let&#8217;s have a closer look at the second parameters change block.</p>
<p>In this case, the list of conditions for the changes to happen is given
by:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;ifAnyIsTrue&quot;:
[
    &quot;rmsd&lt;1.0 or rmsd&lt;=0.5&quot;,
    &quot;not(rmsd_CA&lt;1 or currentEnergy&gt;3.0)&quot;
]
</pre></div>
</div>
<p>As it says, if any of the conditions in the list (remember in JSON lists
are defined between square brackets) evaluates to true, the changes will
take place. To know how to write conditions check <a class="reference internal" href="../LogicalConditions/ConditionsByExample.html#sec-conditionsbyexample"><span>Conditions By Example</span></a>.</p>
<p>The block that defines the changes that take place when any of the
previous conditions is true is:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;doThesechanges&quot;: {
    &quot;LigandPerturbation::parameters&quot;: {
        &quot;rotationScalingFactor&quot;: 0.4,
        &quot;translationRange&quot;: 3.5
    },
    &quot;ANM::parameters&quot;: {
        &quot;thermalScaling&quot;: false,
        &quot;displacementFactor&quot;: 1.5
    }
}
</pre></div>
</div>
<p>As its name implies the &#8220;doThesechanges&#8221; block contains the sets of
parameter changes that will take place when the conditions for the
change are true. Inside the &#8220;doThesechanges&#8221; block, you should define
the different set of changes by indicating which parameters to change
and which are the new values of the parameters.</p>
<p>The different sets of parameters changes are separated by commas.</p>
<p>For instance, the first set of changes is:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;LigandPerturbation::parameters&quot;: {
    &quot;rotationScalingFactor&quot;: 0.4,
    &quot;translationRange&quot;: 3.5,
}
</pre></div>
</div>
<p>where we are indicating that the parameters that will change are the
&#8220;rotationScalingFactor&#8221; and the &#8220;translationRange&#8221; of the
LigandPerturbation, being their new values 0.4 and 3.5, respectively.</p>
<p>Similarly, the second set of changes:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;ANM::parameters&quot;: {
    &quot;thermalScaling&quot;: false,
    &quot;displacementFactor&quot;: 1.5,
}
</pre></div>
</div>
<p>indicates that the parameters that will change are the &#8220;thermalScaling&#8221;
and the &#8220;displacementFactor&#8221; of the ANM with new values of false and
1.5, respectively.</p>
<p>There is a list of which parameters can be changed available in:
<a class="reference internal" href="ParametersThatCanChange.html#sec-parametersthatcanchange"><span>Parameters That Can Change</span></a>.</p>
<p>Finally, there is a block, &#8220;otherwise&#8221;, that defines the changes that
take place when none of the previous conditions is true:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;otherwise&quot;: {
    &quot;Minimizer::parameters&quot;: {
        &quot;alphaUpdated&quot;: true,
        &quot;sgbUpdated&quot;: true
    }
}
</pre></div>
</div>
<p>The &#8220;otherwise&#8221; block contains the sets of parameter changes that take
place when all the conditions for the change are false. Inside it, you
should define the different set of changes by indicating which
parameters to change and which are the new values of the parameters.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;Minimizer::parameters&quot;: {
    &quot;alphaUpdated&quot;: true,
    &quot;sgbUpdated&quot;: true
}
</pre></div>
</div>
<p>In this case, we are changing two parameters of the minimizer.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="ParametersThatCanChange.html"
                        title="previous chapter">Changeable Parameters</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../ExitConditions/ExitConditions.html"
                        title="next chapter">Exit Conditions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/PELEDynamicChangesInSimulationParameters/PELEDynamicChangesInSimulationParameters.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../ExitConditions/ExitConditions.html" title="Exit Conditions"
             >next</a> |</li>
        <li class="right" >
          <a href="ParametersThatCanChange.html" title="Changeable Parameters"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PELE 1.5.rev12489 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../referenceManual.html" >Reference Manual</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../PELE/PELESimulation_index.html" >PELESimulation command</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2016 BARCELONA SUPERCOMPUTING CENTER. See the COPYRIGHT file at the top-level directory of this distribution. 
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.
    <a href="../index.html#license">License</a>.
    </div>
  </body>
</html>